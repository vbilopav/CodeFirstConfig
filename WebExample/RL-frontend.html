<!DOCTYPE html>
<html>
<head>
    <title>RL-frontend</title>
</head>
<body>
    <ul id="entries">
        <li class="entry-3 entry">A</li>
        <li class="entry-4 entry">B</li>
        <li class="entry-5 entry disabled">C</li>
        <li class="entry-7 entry">D</li>
        <li class="entry-12 entry">E</li>
    </ul>
    <a id="anchor1" href="#">anchor1</a>
    <a id="anchor2" href="#">anchor2</a>
    <a id="anchor3" href="#">anchor3</a>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript">

        // 1.
        (function() {
            var result = [];
            $("#entries > li.entry:not(.disabled)").each(function() {
                result.push($(this).id);
                document.write("pushed id value of element with content " + $(this).html());
                document.write("<br />");
            });
            document.write("<br />");
        })();

        //2.
        (function() {

            var Pizza = function(name) {
                var toppings = {};
                return {
                    name: name,
                    addToppings: function() {
                        for (var i = 0; i < arguments.length; i++) {
                            var lower = arguments[i].toLowerCase();
                            for (var key in toppings) {
                                if (toppings[key] === lower)
                                    delete toppings[lower];
                            }
                            toppings[arguments[i]] = lower;
                        }
                    },
                    removeToppings: function() {
                        for (var i = 0; i < arguments.length; i++) {
                            var lower = arguments[i].toLowerCase();
                            for (var key in toppings) {
                                if (toppings[key] === lower)
                                    delete toppings[lower];
                            }
                        }
                    },
                    print: function() {
                        return JSON.stringify({ name: this.name, toppings: Object.keys(toppings) });
                    }
                }
            }

            var pizza = Pizza("Mushroom Lover");
            pizza.addToppings("Mushrooms");
            pizza.addToppings("mushrooms", "Mushrooms", "Pineapple", "pickles");
            pizza.removeToppings("Pickles");
            console.log(pizza.print());

            document.write("<br />");
            document.write(pizza.print());

        })();

        //3.
        (function () {
            window.onload = function () {
                var anchors = document.getElementsByTagName("a");
                for (var i = 0; i < anchors.length; i++) {
                    //it's a closure trap, took too much c#
                    anchors[i].setAttribute("data-id", i + 1);
                    anchors[i].onclick = function () {
                        alert("I am link " + this.getAttribute("data-id") + ".");
                    }
                }
            };
        })();

        //4.
        (function () {
            /*
            $("body button").click(function() {
                alert("Button Clicked!");
            });

            $("body").append("<button>Click me!</button>");
            */

            //fixed:
            $("body").append("<button>Click me!</button>");

            $("body button").click(function () {
                alert("Button Clicked!");
            });
        })();
    </script>
</body>
</html>
